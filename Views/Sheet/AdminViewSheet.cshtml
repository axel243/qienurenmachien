@using Newtonsoft.Json.Linq;
@model TimeSheetViewModel
@{
	ViewData["Title"] = "AdminViewSheet";
}

<h1 style="text-align: center;">Urenformulier van gebruiker</h1>

<p hidden id="SheetID">@Model.SheetID</p>


<table id="OverViewTable" style="width:100%;">
	<tr>
		<th>Project</th>
		<th>Maand</th>
		<th>Projecturen</th>
		<th>Overwerk</th>
		<th>Ziek</th>
		<th>Afwezig</th>
		<th>Training</th>
		<th>Overige</th>
		<th>Ingeleverd</th>
		<th>Goedgekeurd</th>
	</tr>
	<tr>
		<td>@Model.Project</td>
		<td>@Model.Month</td>
		<td>@Model.ProjectHours</td>
		<td>@Model.Overwork</td>
		<td>@Model.Sick</td>
		<td>@Model.Absence</td>
		<td>@Model.Training</td>
		<td>@Model.Other</td>
		<td>@Model.Submitted</td>
		<td>@Model.Approved</td>
	</tr>
</table>
<br />


<table id="TimeSheetTable" style="width:100%;">
	<tr>
		<th>Dag</th>
		<th>Projecturen</th>
		<th>Overwerk</th>
		<th>Ziek</th>
		<th>Afwezig</th>
		<th>Training</th>
		<th>Overige</th>
	</tr>

	@if (Model.Submitted == true)
	{
		@foreach (var day in JObject.Parse(Model.Data))
		{
			DateTime dt = new DateTime(Model.theDate.Year, Model.theDate.Month, Convert.ToInt32(day.Key));
			@if (dt.ToString("dddd") == "Saturday" || dt.ToString("dddd") == "Sunday")
			{
				<tr style="background-color: #f3f3f3">
					<td>@dt.ToString("dddd") @day.Key</td>
					<td>@day.Value["projecthours"]</td>
					<td>@day.Value["overwork"]</td>
					<td>@day.Value["sick"]</td>
					<td>@day.Value["absence"]</td>
					<td>@day.Value["training"]</td>
					<td>@day.Value["other"]</td>
				</tr>
			}
			else
			{
				<tr>
					<td>@dt.ToString("dddd") @day.Key</td>
					<td>@day.Value["projecthours"]</td>
					<td>@day.Value["overwork"]</td>
					<td>@day.Value["sick"]</td>
					<td>@day.Value["absence"]</td>
					<td>@day.Value["training"]</td>
					<td>@day.Value["other"]</td>
				</tr>
			}
		}
	}
</table>

